<!DOCTYPE html>
<html>

<head>
    <!-- <meta http-equiv="refresh" content="5" /> -->
    <title>Preview</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>


<style>
body {font-family: Arial, Helvetica, sans-serif;}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 200px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
  
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

 .panel > .panel-heading {

    background: #2C2C2C; 
    color: #ffffff;
    border-color: #ff0000;

}

.panel  {


    border-color:#2C2C2C;

}


</style>
<body style="margin-left: 2rem;">

    <h1 style="text-align: center;">Gamification Mechanics Preview</h1>

            <div class="container">
                
                <div class="panel-group">

                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            Preview of the Gamification Mechanic       
                        </div>
                        <div class="panel-body">
                                <div id="incrustate"><div>
                            <script>
                                fetch("{{data.url}}?{{url_query}}")
                                    .then(function (response) {
                                        return response.json();
                                    })
                                    .then(function (myJson) {
                                        document.querySelector("#incrustate").innerHTML = (myJson.html);
                                        $(myJson.html).appendTo(document.body);    
                                    })
                                    .catch(function (error) {
                                        console.log("Error: " + error);
                                    });
                            </script>                        
                        </div>                 

                      

                    </div>



                    
               
                    
                </div>

            </div>

                        
                        
                            <button data-toggle="collapse" data-target="#demo" class="btn btn-primary" style="text-align:center; width:100%; background: #2C2C2C; border-color:#2C2C2C;">Get Incrustable Code</button>
                            <div id="demo" class="collapse" style="text-align:center;">
                                <br>
                                <pre style="font-size: 1rem;width: 70%; display: inline-block; text-align: left;"><code>
                                    &ltdiv id="incr">&lt/div>
                                    &ltscript>
                                        fetch("{{data.url}}?{{url_query}}")
                                            .then(function (response) {
                                                return response.json();
                                            })
                                            .then(function (myJson) {
                                                document.querySelector("#incr").innerHTML = (myJson.html);
                                                $(myJson.html).appendTo(document.body);    
                                            })
                                            .catch(function (error) {
                                                console.log("Error: " + error);
                                            });
                                    &lt/script>
                                    
                                    </code></pre>
                            </div>
              
       


</body>

</html>